{% extends 'base.html' %}

{% block header %}
  <h2 class="card-title text-center mt-5">{% block title %}User Portal{% endblock %}</h2>
{% endblock %}

{% block content %}
  <form method = "POST">
    <div class="row">
     {% for user in all_users %}
        <div class="col-sm-5 my-4 mx-auto">
        	<div class="card">
            <div class="card-body text-center border border-info">
              <h5 class="card-title">User id: {{user['id']}} </h5>
              <h5 class="card-title">User: {{user['username']}} </h5>
            {% if user['id'] in friend_set %}
              <input type='submit' class="btn btn-info" name='submit_{{user['id']}}' value='Friend' disabled>
            {% elif user['id'] in friend_request_sent_set %}
            <input type='submit' class="btn btn-warning" name='submit_{{user['id']}}' value='Pending' disabled>
            {% elif user['id'] in friend_request_received_set %}
            <input type='submit' class="btn btn-success" name='submit_{{user['id']}}' value='Accept'>
            <input type='submit' class="btn btn-danger" name='submit_{{user['id']}}' value='Reject'>
            {% else %}
              <input type='submit' class="btn btn-primary" name='submit_{{user['id']}}' value='Send'>
            {% endif %}
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </form>
{% endblock %}